# Login API

The Login API is responsible for handling authentication
to the API. All API requests must be accompanied by
a valid token generated by this API in order to prove that
the request is from a client application.

The authentication protocol is described in detail in
the [Authentication](../authentication.md) section of
this document.

## Available API Endpoints

The following endpoints are available in this API subsystem:

### <span style="background-color: #ebb747; font-weight: bold; color: #ffffff; padding: 3px 10px; border-radius: 14px;">POST</span> **Login**

```text
/mobile/v1/auth/login
```

This endpoint is accessible via the HTTP `POST` method. It
is responsible for authenticating supplied credentials and
issuing a time-limited access token. This token must then
be provided with every subsequent API request.

Note that this API endpoint **does not** conform to the typical
API request and response structures for the API. This
endpoint instead provides a simpler interface, since it is
meant to be invoked before any other tasks are performed via
the API.

#### Request

##### Path Parameters

This endpoint does not accept and URL path parameters.

##### Body Parameters

This endpoint accepts the following JSON-encoded parameters
as top-level attributes:

| Request Parameter | Required | Type | Description |
| :--- | :--- | :--- | :--- |
| username | Yes | String | Your username |
| password | Yes | String | Your password |
| jwt | Yes | String | Mobile JWT Token |

##### Example JSON Request

A valid request to this endpoint would be structured as follows
(replacing the username and password with your actual values,
as appropriate):

```json
{
  "username": "{username}",
  "password": "{password}",
  "jwt": "eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9. . ."
}
```

#### Response

##### Expected HTTP Response Code

When operating normally, this API endpoint will return
an HTTP response code of `200` ("OK").

##### Body Parameters

If the supplied credentials are valid and an access token
is successfully generated, then the API response will
contain the following parameters in its top-level `data`
element:

| Response Parameter | Type | Description |
| :--- | :--- | :--- |
| data | String | The access token. |

##### Example JSON Response

Assuming a successful invocation of this endpoint, an OAuth2
bearer token will be generated in a response similar to the
following:

```json
{
    "response": {
        "code": 200,
        "timestamp": "2018-10-08T04:41:35.730Z"
    },
    "data": {
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9. . .",
        "user": {
            "aid": 45781,
            "firstName": "Swagatika",
            "lastName": "Rath",
            "username": "rrath",
            "email": "4613cb8b-a58@edrnet.com",
            "cid": 1218,
            "name": "EDR Applications Development Group",
            "fromMobile": 0,
            "edrAccount": "2013212",
            "_id": "Z21Xju7ouma6XkvZ"
        }
    }
}
```
